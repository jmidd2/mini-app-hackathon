{"version":3,"file":"app.js","names":["_socket","require","_TodoSocketEvents","_interopRequireDefault","obj","__esModule","createApplication","server","components","serverOptions","arguments","length","undefined","io","Server","_createTodoHandlers","createTodoHandlers","createTodo","readTodo","updateTodo","delTodo","listTodo","on","socket"],"sources":["../src/app.ts"],"sourcesContent":["import { Server, ServerOptions } from 'socket.io';\nimport { ClientEvents, ServerEvents } from 'frontend/src/types/Events';\nimport { TodoRepository } from './Domains/Todos/TodoRepository';\nimport createTodoHandlers from './Domains/Todos/TodoSocketEvents';\nimport { Server as HttpServer } from 'node:http';\n\nexport interface Components {\n  todoRepository: TodoRepository;\n}\n\nexport function createApplication(\n  server: HttpServer,\n  components: Components,\n  serverOptions: Partial<ServerOptions> = {}\n): Server<ClientEvents, ServerEvents> {\n  const io = new Server<ClientEvents, ServerEvents>(server, serverOptions);\n\n  const { createTodo, readTodo, updateTodo, delTodo, listTodo } = createTodoHandlers(components);\n\n  io.on('connection', socket => {\n    socket.on('todo:create', createTodo);\n    socket.on('todo:read', readTodo);\n    socket.on('todo:update', updateTodo);\n    socket.on('todo:delete', delTodo);\n    socket.on('todo:list', listTodo);\n  });\n\n  return io;\n}\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AAGA,IAAAC,iBAAA,GAAAC,sBAAA,CAAAF,OAAA;AAAkE,SAAAE,uBAAAC,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,gBAAAA,GAAA;AAO3D,SAASE,iBAAiBA,CAC/BC,MAAkB,EAClBC,UAAsB,EAEc;EAAA,IADpCC,aAAqC,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAE1C,IAAMG,EAAE,GAAG,IAAIC,cAAM,CAA6BP,MAAM,EAAEE,aAAa,CAAC;EAExE,IAAAM,mBAAA,GAAgE,IAAAC,4BAAkB,EAACR,UAAU,CAAC;IAAtFS,UAAU,GAAAF,mBAAA,CAAVE,UAAU;IAAEC,QAAQ,GAAAH,mBAAA,CAARG,QAAQ;IAAEC,UAAU,GAAAJ,mBAAA,CAAVI,UAAU;IAAEC,OAAO,GAAAL,mBAAA,CAAPK,OAAO;IAAEC,QAAQ,GAAAN,mBAAA,CAARM,QAAQ;EAE3DR,EAAE,CAACS,EAAE,CAAC,YAAY,EAAE,UAAAC,MAAM,EAAI;IAC5BA,MAAM,CAACD,EAAE,CAAC,aAAa,EAAEL,UAAU,CAAC;IACpCM,MAAM,CAACD,EAAE,CAAC,WAAW,EAAEJ,QAAQ,CAAC;IAChCK,MAAM,CAACD,EAAE,CAAC,aAAa,EAAEH,UAAU,CAAC;IACpCI,MAAM,CAACD,EAAE,CAAC,aAAa,EAAEF,OAAO,CAAC;IACjCG,MAAM,CAACD,EAAE,CAAC,WAAW,EAAED,QAAQ,CAAC;EAClC,CAAC,CAAC;EAEF,OAAOR,EAAE;AACX"}