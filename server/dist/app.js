'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports.createApplication = createApplication;
var _socket = require('socket.io');
var _TodoSocketEvents = _interopRequireDefault(require('./Domains/Todos/TodoSocketEvents'));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

function createApplication(server, components) {
  var serverOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  var io = new _socket.Server(server, serverOptions);
  var _createTodoHandlers = (0, _TodoSocketEvents['default'])(components),
    createTodo = _createTodoHandlers.createTodo,
    readTodo = _createTodoHandlers.readTodo,
    updateTodo = _createTodoHandlers.updateTodo,
    delTodo = _createTodoHandlers.delTodo,
    listTodo = _createTodoHandlers.listTodo;
  io.on('connection', function (socket) {
    socket.on('todo:create', createTodo);
    socket.on('todo:read', readTodo);
    socket.on('todo:update', updateTodo);
    socket.on('todo:delete', delTodo);
    socket.on('todo:list', listTodo);
  });
  return io;
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfc29ja2V0IiwicmVxdWlyZSIsIl9Ub2RvU29ja2V0RXZlbnRzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJjcmVhdGVBcHBsaWNhdGlvbiIsInNlcnZlciIsImNvbXBvbmVudHMiLCJzZXJ2ZXJPcHRpb25zIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiaW8iLCJTZXJ2ZXIiLCJfY3JlYXRlVG9kb0hhbmRsZXJzIiwiY3JlYXRlVG9kb0hhbmRsZXJzIiwiY3JlYXRlVG9kbyIsInJlYWRUb2RvIiwidXBkYXRlVG9kbyIsImRlbFRvZG8iLCJsaXN0VG9kbyIsIm9uIiwic29ja2V0Il0sInNvdXJjZXMiOlsiLi4vc3JjL2FwcC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZXJ2ZXIsIFNlcnZlck9wdGlvbnMgfSBmcm9tICdzb2NrZXQuaW8nO1xuaW1wb3J0IHsgQ2xpZW50RXZlbnRzLCBTZXJ2ZXJFdmVudHMgfSBmcm9tICcuLi90eXBlcy9FdmVudHMnO1xuaW1wb3J0IHsgVG9kb1JlcG9zaXRvcnkgfSBmcm9tICcuL0RvbWFpbnMvVG9kb3MvVG9kb1JlcG9zaXRvcnknO1xuaW1wb3J0IGNyZWF0ZVRvZG9IYW5kbGVycyBmcm9tICcuL0RvbWFpbnMvVG9kb3MvVG9kb1NvY2tldEV2ZW50cyc7XG5pbXBvcnQgeyBTZXJ2ZXIgYXMgSHR0cFNlcnZlciB9IGZyb20gJ25vZGU6aHR0cCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9uZW50cyB7XG4gIHRvZG9SZXBvc2l0b3J5OiBUb2RvUmVwb3NpdG9yeTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFwcGxpY2F0aW9uKFxuICBzZXJ2ZXI6IEh0dHBTZXJ2ZXIsXG4gIGNvbXBvbmVudHM6IENvbXBvbmVudHMsXG4gIHNlcnZlck9wdGlvbnM6IFBhcnRpYWw8U2VydmVyT3B0aW9ucz4gPSB7fVxuKTogU2VydmVyPENsaWVudEV2ZW50cywgU2VydmVyRXZlbnRzPiB7XG4gIGNvbnN0IGlvID0gbmV3IFNlcnZlcjxDbGllbnRFdmVudHMsIFNlcnZlckV2ZW50cz4oc2VydmVyLCBzZXJ2ZXJPcHRpb25zKTtcblxuICBjb25zdCB7IGNyZWF0ZVRvZG8sIHJlYWRUb2RvLCB1cGRhdGVUb2RvLCBkZWxUb2RvLCBsaXN0VG9kbyB9ID0gY3JlYXRlVG9kb0hhbmRsZXJzKGNvbXBvbmVudHMpO1xuXG4gIGlvLm9uKCdjb25uZWN0aW9uJywgc29ja2V0ID0+IHtcbiAgICBzb2NrZXQub24oJ3RvZG86Y3JlYXRlJywgY3JlYXRlVG9kbyk7XG4gICAgc29ja2V0Lm9uKCd0b2RvOnJlYWQnLCByZWFkVG9kbyk7XG4gICAgc29ja2V0Lm9uKCd0b2RvOnVwZGF0ZScsIHVwZGF0ZVRvZG8pO1xuICAgIHNvY2tldC5vbigndG9kbzpkZWxldGUnLCBkZWxUb2RvKTtcbiAgICBzb2NrZXQub24oJ3RvZG86bGlzdCcsIGxpc3RUb2RvKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGlvO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLE9BQUE7QUFHQSxJQUFBQyxpQkFBQSxHQUFBQyxzQkFBQSxDQUFBRixPQUFBO0FBQWtFLFNBQUFFLHVCQUFBQyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsZ0JBQUFBLEdBQUE7QUFPM0QsU0FBU0UsaUJBQWlCQSxDQUMvQkMsTUFBa0IsRUFDbEJDLFVBQXNCLEVBRWM7RUFBQSxJQURwQ0MsYUFBcUMsR0FBQUMsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsQ0FBQyxDQUFDO0VBRTFDLElBQU1HLEVBQUUsR0FBRyxJQUFJQyxjQUFNLENBQTZCUCxNQUFNLEVBQUVFLGFBQWEsQ0FBQztFQUV4RSxJQUFBTSxtQkFBQSxHQUFnRSxJQUFBQyw0QkFBa0IsRUFBQ1IsVUFBVSxDQUFDO0lBQXRGUyxVQUFVLEdBQUFGLG1CQUFBLENBQVZFLFVBQVU7SUFBRUMsUUFBUSxHQUFBSCxtQkFBQSxDQUFSRyxRQUFRO0lBQUVDLFVBQVUsR0FBQUosbUJBQUEsQ0FBVkksVUFBVTtJQUFFQyxPQUFPLEdBQUFMLG1CQUFBLENBQVBLLE9BQU87SUFBRUMsUUFBUSxHQUFBTixtQkFBQSxDQUFSTSxRQUFRO0VBRTNEUixFQUFFLENBQUNTLEVBQUUsQ0FBQyxZQUFZLEVBQUUsVUFBQUMsTUFBTSxFQUFJO0lBQzVCQSxNQUFNLENBQUNELEVBQUUsQ0FBQyxhQUFhLEVBQUVMLFVBQVUsQ0FBQztJQUNwQ00sTUFBTSxDQUFDRCxFQUFFLENBQUMsV0FBVyxFQUFFSixRQUFRLENBQUM7SUFDaENLLE1BQU0sQ0FBQ0QsRUFBRSxDQUFDLGFBQWEsRUFBRUgsVUFBVSxDQUFDO0lBQ3BDSSxNQUFNLENBQUNELEVBQUUsQ0FBQyxhQUFhLEVBQUVGLE9BQU8sQ0FBQztJQUNqQ0csTUFBTSxDQUFDRCxFQUFFLENBQUMsV0FBVyxFQUFFRCxRQUFRLENBQUM7RUFDbEMsQ0FBQyxDQUFDO0VBRUYsT0FBT1IsRUFBRTtBQUNYIn0=
//# sourceMappingURL=app.js.map